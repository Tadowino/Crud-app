{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { EmpAddEditComponent } from './emp-add-edit/emp-add-edit.component';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nlet AppComponent = class AppComponent {\n  constructor(_dialog, _empService, _coreService) {\n    this._dialog = _dialog;\n    this._empService = _empService;\n    this._coreService = _coreService;\n    this.displayedColumns = ['id', 'firstName', 'lastName', 'email', 'dob', 'gender', 'education', 'company', 'experience', 'package', 'action'];\n  }\n  ngOnInit() {\n    this.getEmployeeList();\n  }\n  openAddEditEmpForm() {\n    const dialogRef = this._dialog.open(EmpAddEditComponent);\n    dialogRef.afterClosed().subscribe({\n      next: val => {\n        if (val) {\n          this.getEmployeeList();\n        }\n      }\n    });\n  }\n  getEmployeeList() {\n    this._empService.getEmployeeList().subscribe({\n      next: res => {\n        this.dataSource = new MatTableDataSource(res);\n        this.dataSource.sort = this.sort;\n        this.dataSource.paginator = this.paginator;\n      },\n      error: console.log\n    });\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n  deleteEmployee(id) {\n    this._empService.deleteEmployee(id).subscribe({\n      next: res => {\n        this._coreService.openSnackBar('Employee deleted!', 'done');\n        this.getEmployeeList();\n      },\n      error: console.log\n    });\n  }\n  openEditForm(data) {\n    const dialogRef = this._dialog.open(EmpAddEditComponent, {\n      data\n    });\n    dialogRef.afterClosed().subscribe({\n      next: val => {\n        if (val) {\n          this.getEmployeeList();\n        }\n      }\n    });\n  }\n};\n__decorate([ViewChild(MatPaginator)], AppComponent.prototype, \"paginator\", void 0);\n__decorate([ViewChild(MatSort)], AppComponent.prototype, \"sort\", void 0);\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"names":["Component","ViewChild","EmpAddEditComponent","MatPaginator","MatSort","MatTableDataSource","AppComponent","constructor","_dialog","_empService","_coreService","displayedColumns","ngOnInit","getEmployeeList","openAddEditEmpForm","dialogRef","open","afterClosed","subscribe","next","val","res","dataSource","sort","paginator","error","console","log","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","firstPage","deleteEmployee","id","openSnackBar","openEditForm","data","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\HP\\Desktop\\codding\\crud-app\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit,ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EmpAddEditComponent } from './emp-add-edit/emp-add-edit.component';\nimport { EmployeeService } from './services/employee.service';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatSort} from '@angular/material/sort';\nimport {MatTableDataSource} from '@angular/material/table';\nimport { takeWhile } from 'rxjs';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit{\ndisplayedColumns: string[] = [\n  'id', 'firstName', 'lastName', 'email', 'dob', 'gender','education','company', 'experience', 'package','action',];\n  dataSource!: MatTableDataSource<any>;\n\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  @ViewChild(MatSort) sort!: MatSort;\n  constructor(private _dialog: MatDialog, private _empService: EmployeeService,private _coreService: CoreService) {}\n  ngOnInit(): void{\n    this.getEmployeeList();\n  }\n  openAddEditEmpForm(){\n    const dialogRef = this._dialog.open(EmpAddEditComponent);\n    dialogRef.afterClosed().subscribe({\n      next: (val) => {\n        if(val){\n          this.getEmployeeList();\n        }\n      },\n    });\n   }\n\n  getEmployeeList() {\n    this._empService.getEmployeeList().subscribe({\n      next: (res) =>{\n       this.dataSource = new MatTableDataSource(res);\n       this.dataSource.sort = this.sort;\n       this.dataSource.paginator = this.paginator;                              \n      },\n      error: console.log,\n    })\n  }\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\ndeleteEmployee(id: number) {\n  this._empService.deleteEmployee(id).subscribe({\n    next: (res) =>{\n     this._coreService.openSnackBar('Employee deleted!', 'done');\n     this.getEmployeeList();\n    },\n    error: console.log,\n  })\n}\n openEditForm(data: any){\nconst dialogRef = this._dialog.open(EmpAddEditComponent, {\n  data,\n});\n    dialogRef.afterClosed().subscribe({\n      next: (val) => {\n        if(val){\n          this.getEmployeeList();\n        }\n      },\n    });\n    \n   }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}